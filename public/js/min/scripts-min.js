$(document).ready(function(){function t(){$("#editor #id").val(""),$("#editor #title").val(""),$("#editor #content").summernote("reset")}function e(t){firebase.database().ref("posts").push(t)}function o(t,e){console.log(t),console.log(e),firebase.database().ref("posts/"+e).set(t)}function s(t){var e={posts:t};console.log(e);var o=$("#post-list-template").html(),s=Handlebars.compile(o),i=s(e);$("#post-list").html(i),console.log("updatign list"),$(".delete-post").click(function(){var t=$(this).closest(".item").data("id");console.log("postid",t),firebase.database().ref("posts/"+t).remove()}),$(".edit-post").click(function(t){var e=$(this).closest(".item").data("id"),o=$(this).closest(".item").find(".title").text(),s=$(this).closest(".item").find(".content").text();console.log("initialTitle",o),$("#editor #id").val(e),$("#editor #title").val(o),$("#editor #content").summernote("editor.insertText",s)})}var i=firebase.database(),n={short:"DD MMMM - YYYY",long:"dddd DD.MM.YYYY HH:mm"},a=firebase.database().ref("posts");a.on("value",function(t){s(t.val()),console.log("from check for new post",t.val())}),$("#content").summernote({placeholder:"Write your awesome post here..",height:120,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]]]}),$("#submit-post").click(function(){var s={title:$("#title").val(),content:$("#content").summernote("code"),datetime:Date.now(),username:"Sebastien"},i=$("#id").val();i?o(s,i):(console.log("no post id found so creating a new post"),e(s)),t()})});